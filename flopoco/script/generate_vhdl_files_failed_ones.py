import os

#frequencies = [200,300,400,500,600]
# configs = [
# #    ws  wf  bias   msb     lsb     ovf wLA    chunk
# 	(8	,7	,127	,254	,-266	,7	,528  ,1 ),    # bfloat16
# 	(5	,10	,15 	,30	    ,-48	,7	,86   ,1 ),    # IEEE 754 HP
# 	(8	,23	,127	,254	,-298	,7	,560  ,1 ),    # IEEE 754 SP
# 	(11	,52	,1023	,2046	,-2148	,7	,4202 ,1 ),    # IEEE 754 DP
# 	(5	,10	,15	    ,30	    ,-28	,5	,64   ,1 ),    # TFP HP
# 	(8	,23	,127	,254	,-252	,5	,512  ,1 ),    # TFP SP
# 	(11	,52	,1023	,2046	,-2044	,5	,4096 ,1 ),    # TFP DP
# 	(4	,5	,6	    ,12	    ,-12	,7	,32   ,1 ),    # posit<8,0>
# 	(5	,4	,12	    ,24	    ,-24	,15	,64   ,1 ),    # posit<8,1>
# 	(6	,3	,24	    ,48	    ,-48	,31	,128  ,1 ),    # posit<8,2>
# 	(5	,13	,14	    ,28	    ,-28	,7	,64   ,1 ),    # posit<16,0>
# 	(6	,12	,28	    ,56	    ,-56	,15	,128  ,1 ),    # posit<16,1>
# 	(7	,11	,56	    ,112   	,-112	,31	,256  ,1 ),    # posit<16,2>
# 	(6	,29	,30	    ,60	    ,-60	,7	,128  ,1 ),    # posit<32,0>
# 	(7	,28	,60	    ,120	,-120	,15	,256  ,1 ),    # posit<32,1>
# 	(8	,27	,120	,240	,-240	,31	,512  ,1 ),    # posit<32,2>
# 	(8	,60	,124	,248	,-248	,15	,512  ,1 ),    # posit<64,1>
# 	(9	,59	,248	,496	,-496	,31	,1024 ,1 ),    # posit<64,2>
# 	(10	,58	,496	,992	,-992	,63	,2048 ,1 ),    # posit<64,3>
# ]
#
#configs = [
#	(8,  7,  127,  5,    -24,   2),
#	(8,  7,  127,  254,  -266,  7),
#	(8,  7,  127,  40,   -50,   9),
#	(4,  3,  7,    5,    -8,    2),
#	(4,  3,  7,    14,   -18,   7),
#	(4,  3,  7,    40,   -50,   9),
#	(5,  10, 15,   5,    -24,   2),
#	(5,  10, 15,   30,   -48,   7),
#	(5,  10, 15,   40,   -50,   9),
#	(8,  23, 127,  5,    -56,   2),
#	(8,  23, 127,  254,  -298,  7),
#	(8,  23, 127,  40,   -50,   9),
#	(11, 52, 1023, 5,    -121,  2),
#	(11, 52, 1023, 2046, -2148, 7),
#	(11, 52, 1023, 40,   -50,   9),
#	(4,  3,  7,    5,    -8,    2),
#	(4,  3,  7,    14,   -12,   5),
#	(4,  3,  7,    40,   -50,   9),
#	(5,  10, 15,   5,    -24,   2),
#	(5,  10, 15,   30,   -28,   5),
#	(5,  10, 15,   40,   -50,   9),
#	(8,  23, 127,  5,    -56,   2),
#	(8,  23, 127,  254,  -252,  5),
#	(8,  23, 127,  40,   -50,   9),
#	(11, 52, 1023, 5,    -121,  2),
#	(11, 52, 1023, 2046, -2044, 5),
#	(11, 52, 1023, 40,   -50,   9),
#	(4,  5,  6,    5,    -8,    2),
#	(4,  5,  6,    12,   -12,   7),
#	(4,  5,  6,    40,   -50,   9),
#	(5,  4,  12,   5,    -8,    2),
#	(5,  4,  12,   24,   -24,   15),
#	(5,  4,  12,   40,   -50,   9),
#	(6,  3,  24,   5,    -8,    2),
#	(6,  3,  24,   48,   -48,   31),
#	(6,  3,  24,   40,   -50,   9),
#	(5,  13, 14,   5,    -24,   2),
#	(5,  13, 14,   28,   -28,   7),
#	(5,  13, 14,   40,   -50,   9),
#	(6,  12, 28,   5,    -24,   2),
#	(6,  12, 28,   56,   -56,   15),
#	(6,  12, 28,   40,   -50,   9),
#	(7,  11, 56,   5,    -24,   2),
#	(7,  11, 56,   112,  -112,  31),
#	(7,  11, 56,   40,   -50,   9),
#	(6,  29, 30,   5,    -56,   2),
#	(6,  29, 30,   60,   -60,   7),
#	(6,  29, 30,   40,   -50,   9),
#	(7,  28, 60,   5,    -56,   2),
#	(7,  28, 60,   120,  -120,  15),
#	(7,  28, 60,   40,   -50,   9),
#	(8,  27, 120,  5,    -56,   2),
#	(8,  27, 120,  240,  -240,  31),
#	(8,  27, 120,  40,   -50,   9),
#	(8,  60, 124,  5,    -121,  2),
#	(8,  60, 124,  248,  -248,  15),
#	(8,  60, 124,  40,   -50,   9),
#	(9,  59, 248,  5,    -121,  2),
#	(9,  59, 248,  496,  -496,  31),
#	(9,  59, 248,  40,   -50,   9),
#	(10, 58, 496,  5,    -121,  2),
#	(10, 58, 496,  992,  -992,  63),
#	(10, 58, 496,  40,   -50,   9)
#]

# configs = [
# 		(400,"tfp:11:52"      ,1023 ,11, 52, 2046, -2044),
# 		(200,"posit:32:2"      ,120  ,8, 27, 240, -240),
# 		(200,"ieee:8:23"      ,127  ,8, 23, 254, -298),
# 		(500,"tfp:11:52"      ,1023 ,11, 52, 2046, -2044),
# 		(300,"ieee:11:52"      ,1023 ,11, 52, 2046, -2148),
# 		(300,"tfp:11:52"      ,1023 ,11, 52, 2046, -2044),
# 		(600,"posit:64:2"      ,248  ,9, 59, 496, -496),
# 		(500,"posit:64:3"      ,496  ,10, 58, 992, -992),
# 		(400,"posit:32:2"      ,120  ,8, 27, 240, -240),
# 		(200,"posit:64:3"      ,496  ,10, 58, 992, -992),
# 		(500,"posit:64:1"      ,124  ,8, 60, 248, -248),
# 		(400,"posit:64:3"      ,496  ,10, 58, 992, -992),
# 		(300,"bfloat16"      ,127  ,8, 7, 254, -266),
# 		(300,"ieee:8:23"      ,127  ,8, 23, 254, -298),
# 		(400,"ieee:11:52"      ,1023 ,11, 52, 2046, -2148),
# 		(200,"tfp:11:52"      ,1023 ,11, 52, 2046, -2044),
# 		(600,"ieee:11:52"      ,1023 ,11, 52, 2046, -2148),
# 		(500,"posit:64:2"      ,248  ,9, 59, 496, -496),
# 		(600,"ieee:8:23"      ,127  ,8, 23, 254, -298),
# 		(400,"bfloat16"      ,127  ,8, 7, 254, -266),
# 		(500,"ieee:11:52"      ,1023 ,11, 52, 2046, -2148),
# 		(300,"tfp:8:23"      ,127  ,8, 23, 254, -252),
# 		(600,"tfp:11:52"      ,1023 ,11, 52, 2046, -2044),
# 		(400,"posit:64:2"      ,248  ,9, 59, 496, -496),
# 		(200,"posit:64:2"      ,248  ,9, 59, 496, -496),
# 		(300,"posit:64:3"     ,496  ,10, 58, 992, -992),
# 		(300,"posit:64:1"      ,124  ,8, 60, 248, -248),
# 		(600,"bfloat16"      ,127  ,8, 7, 254, -266),
# 		(200,"ieee:11:52"      ,1023 ,11, 52, 2046, -2148),
# 		(400,"ieee:8:23"      ,127  ,8, 23, 254, -298),
# 		(200,"tfp:8:23"      ,127  ,8, 23, 254, -252),
# 		(600,"posit:64:1"      ,124  ,8, 60, 248, -248),
# 		(400,"posit:64:1"      ,124  ,8, 60, 248, -248),
# 		(300,"posit:64:2"      ,248  ,9, 59, 496, -496),
# 		(600,"posit:32:2"      ,120  ,8, 27, 240, -240),
# 		(500,"bfloat16"      ,127  ,8, 7, 254, -266),
# 		(200,"posit:64:1"      ,124  ,8, 60, 248, -248),
# 		(500,"posit:32:2"      ,120  ,8, 27, 240, -240),
# 		(600,"posit:64:3"      ,496  ,10, 58, 992, -992),
# 		(200,"bfloat16"      ,127  ,8, 7, 254, -266),
# 		(300,"posit:32:2"      ,127  ,8, 27, 240, -240),
# 		(600,"tfp:8:23"      ,127  ,8, 23, 254, -252),
# 		(500,"tfp:8:23"      ,127  ,8, 23, 254, -252),
# 		(500,"ieee:8:23"      ,127  ,8, 23, 254, -298),
# 		(400,"tfp:8:23"      ,127  ,8, 23, 254, -252)
# ]

configs = [
		(200,"posit:4:0"      ,4 ,3, 1, 3, -4,0),
		(200,"posit:4:0"      ,4 ,3, 1, 4, -4,3),
		(200,"posit:4:0"      ,4 ,3, 1, 40, -50,9),
		(600,"posit:4:0"      ,4 ,3, 1, 3, -4,0),
		(600,"posit:4:0"      ,4 ,3, 1, 4, -4,3),
		(600,"posit:4:0"      ,4 ,3, 1, 40, -50,9),
]

#cmd = "/home/binaryman/Documents/PhD/flopoco/build/flopoco S3FDP scale_width={} fraction_width={} bias={} nb_bits_ovf={} msb_summand={} lsb_summand={} has_HSSD=true frequency={} target=VirtexUltrascalePlus outputFile=/tmp/s3fdp_{}_{}_{}_{}_m{}.vhdl name=S3FDP_{}_{}_{}_{}_m{}_HSSD"

cmd = '/home/binaryman/Documents/PhD/flopoco/build/flopoco SystolicArray N=1 M=1 arithmetic_in="{}" arithmetic_out="same" nb_bits_ovf={} msb_summand={} lsb_summand={} has_HSSD=true frequency={} target=VirtexUltrascalePlus outputFile=/tmp/s3fdp_{}_{}_{}_{}_m{}.vhdl name=S3FDP_{}_{}_{}_{}_m{}_HSSD'

for c in configs:
	exec_cmd = cmd.format(c[1],c[7],c[5],c[6],c[0],c[0],c[3],c[4],c[5],-c[6],c[0],c[3],c[4],c[5],-c[6])
	#print(exec_cmd)
	os.system(exec_cmd)
